import{createMemoryHistory,parsePath}from'history';import PropTypes from'prop-types';import React from'react';function k(){k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return k.apply(this,arguments)}var l="production"!==process.env.NODE_ENV?function(a){return Object.freeze(a)}:function(a){return a};function m(a,b){if(!a)throw Error(b);}var n=React.createContext();"production"!==process.env.NODE_ENV&&(n.Consumer.displayName="Location.Consumer",n.Provider.displayName="Location.Provider");
var p=React.createContext({outlet:null,params:l({}),pathname:"",route:null});"production"!==process.env.NODE_ENV&&(p.Consumer.displayName="Route.Consumer",p.Provider.displayName="Route.Provider");function q(a){var b=a.children,c=a.initialEntries,d=a.initialIndex;a=a.timeout;var e=React.useRef(null);null==e.current&&(e.current=createMemoryHistory({initialEntries:c,initialIndex:d}));return React.createElement(r,{children:b,history:e.current,timeout:a})}
"production"!==process.env.NODE_ENV&&(q.displayName="MemoryRouter",q.propTypes={children:PropTypes.node,timeout:PropTypes.number,initialEntries:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.shape({pathname:PropTypes.string,search:PropTypes.string,hash:PropTypes.string,state:PropTypes.object,key:PropTypes.string})])),initialIndex:PropTypes.number});function t(a){var b=a.to,c=a.replace;c=void 0===c?!1:c;a=a.state;u()(b,{replace:c,state:a});return null}
"production"!==process.env.NODE_ENV&&(t.displayName="Navigate",t.propTypes={to:PropTypes.oneOfType([PropTypes.string,PropTypes.shape({pathname:PropTypes.string,search:PropTypes.string,hash:PropTypes.string})]).isRequired,replace:PropTypes.bool,state:PropTypes.object});function v(){return w()}"production"!==process.env.NODE_ENV&&(v.displayName="Outlet",v.propTypes={});function x(){return null}
"production"!==process.env.NODE_ENV&&(x.displayName="Redirect",x.propTypes={children:function(a,b){if(null!=a[b])return Error("A <Redirect> should not have child routes; they will never be rendered.")},from:PropTypes.string,to:PropTypes.oneOfType([PropTypes.string,PropTypes.shape({pathname:PropTypes.string,search:PropTypes.string,hash:PropTypes.string})])});function y(a){return a.element}
"production"!==process.env.NODE_ENV&&(y.displayName="Route",y.propTypes={children:PropTypes.node,element:PropTypes.element,path:PropTypes.string});function z(a){return a()}var A=React.useTransition||function(){return[z,!1]};
function r(a){var b=a.children;b=void 0===b?null:b;var c=a.history;a=a.timeout;var d=void 0===a?2E3:a,e=React.useState(c.location);a=e[0];var f=e[1];d=A({timeoutMs:d});var g=d[0];d=d[1];e=React.useRef(!1);React.useContext(n)?"production"!==process.env.NODE_ENV?m(!1,"You cannot render a <Router> inside another <Router>. You never need more than one."):m(!1):void 0;e.current||(e.current=!0,c.listen(function(a){var b=a.location;g(function(){f(b)})}));return React.createElement(n.Provider,{children:b,
value:{history:c,location:a,pending:d}})}"production"!==process.env.NODE_ENV&&(r.displayName="Router",r.propTypes={children:PropTypes.node,history:PropTypes.shape({action:PropTypes.string,location:PropTypes.object,push:PropTypes.func,replace:PropTypes.func,go:PropTypes.func,listen:PropTypes.func,block:PropTypes.func}),timeout:PropTypes.number});function B(a){var b=a.basename;b=void 0===b?"":b;var c=a.caseSensitive;c=void 0===c?!1:c;a=C(a.children);return D(a,b,c)}
"production"!==process.env.NODE_ENV&&(B.displayName="Routes",B.propTypes={basename:PropTypes.string,caseSensitive:PropTypes.bool,children:PropTypes.node});function C(a){var b=[];React.Children.forEach(a,function(a){if(React.isValidElement(a)){var c=a.props,e=c.children,f=c.from,g=c.path;c=c.to;a.type===React.Fragment?b.push.apply(b,C(e)):(g=g||f||"/",c?a={path:g,redirectTo:c}:(a={path:g,element:a},e=C(e),e.length&&(a.children=e)),b.push(a))}});return b}
function E(){return React.useContext(n).location}function u(){var a=React.useContext(n),b=a.history,c=a.pending,d=React.useContext(p).pathname;null==b?"production"!==process.env.NODE_ENV?m(!1,"navigation may be used only in the context of a <Router> component"):m(!1):void 0;return React.useCallback(function(a,f){var e=void 0===f?{}:f;f=e.replace;e=e.state;"number"===typeof a?b.go(a):(a=F(a,d),b[f||c?"replace":"push"](a,e))},[b,c,d])}function w(){return React.useContext(p).outlet}
function G(a){var b=React.useContext(p).pathname;return React.useMemo(function(){return F(a,b)},[a,b])}var I,J;"production"!==process.env.NODE_ENV&&(I={},J=function(a,b,c){if(!b&&!I[a])if(I[a]=!0,"production"!==process.env.NODE_ENV){"undefined"!==typeof console&&console.warn(c);try{throw Error(c);}catch(d){}}else void 0});
function D(a,b,c){void 0===b&&(b="");void 0===c&&(c=!1);var d=React.useContext(p),e=d.params,f=d.pathname;d=d.route;if(J){var g=d&&d.path;J(f,!d||d.path.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes`) at "'+f+'" (under <Route path="'+(g+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="')+(g+'"> to <Route path="'+g+
'/*">.'))}b=b?K([f,b]):f;d=u();var H=E();g=React.useMemo(function(){return L(a,H,b,c)},[a,H,b,c]);if(!g)return null;var h=g.find(function(a){return null!=a.route.redirectTo});return h?(g=h.params,f=F(h.route.redirectTo,f),h=f.pathname,/:\w+/.test(h)&&(f=k({},f,{pathname:M(h,g)})),d(f,{replace:!0}),null):g.reduceRight(function(a,c){var d=c.pathname,f=c.route;return React.createElement(p.Provider,{children:f.element,value:{outlet:a,params:l(k({},e,{},c.params)),pathname:K([b,d]),route:f}})},null)}
function L(a,b,c,d){function e(a){a=g[a];var b=a[1];if(N(a[0],!0,d)[0].test(f))return{v:b.map(function(a,c){c=b.slice(0,c+1);c=K(c.map(function(a){return a.path}));var e=N(c,!1,d);c=e[1];e=f.match(e[0]);return{params:O(c,e.slice(2)),pathname:"/"+e[1],route:a}})}}void 0===c&&(c="");void 0===d&&(d=!1);"string"===typeof b&&(b=parsePath(b));c=c.replace(/^\/+|\/+$/g,"");var f=b.pathname.slice(1);if(c)if(c===f)f="";else if(f.startsWith(c))f=f.slice(c.length).replace(/^\/+/,"");else return null;var g=P(a);
Q(g);for(a=0;a<g.length;++a)if(b=e(a),"object"===typeof b)return b.v;return null}function P(a,b,c,d,e){void 0===b&&(b=[]);void 0===c&&(c="");void 0===d&&(d=[]);void 0===e&&(e=[]);a.forEach(function(a,g){var f=K([c,a.path]),h=d.concat(a);g=e.concat(g);b.push([f,h,g]);a.children&&P(a.children,b,f,h,g)});return b}var R=/^:\w+$/,S=2,T=1,U=10,V=-2;function W(a){return"*"===a}
function X(a){a=a.split("/");var b=a.length;a.some(W)&&(b+=V);return a.filter(function(a){return!W(a)}).reduce(function(a,b){return a+(R.test(b)?S:""===b?T:U)},b)}function Q(a){var b=a.reduce(function(a,b){b=b[0];a[b]=X(b);return a},{});a.sort(function(a,d){var c=a[2];a=b[a[0]];var f=d[2];d=b[d[0]];return a!==d?d-a:Y(c,f)})}function Y(a,b){return a.length===b.length&&a.slice(0,-1).every(function(a,d){return a===b[d]})?a[a.length-1]-b[b.length-1]:0}
function N(a,b,c){var d=[],e="^("+a.replace(/^\/+/,"").replace(/\*\//g,"").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,function(a,b){d.push(b);return"([^\\/]+)"})+")";a.endsWith("*")?(a.endsWith("/*")&&(e+="\\/?"),d.push("*"),e+="(.*)"):b&&(e+="\\/?");b&&(e+="$");return[new RegExp(e,c?void 0:"i"),d]}function O(a,b){return a.reduce(function(a,d,e){a[d]=b[e];return a},{})}function K(a){return a.join("/").replace(/\/\/+/g,"/")}
function Z(a,b){var c=b.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");a.replace(/\/\/+/g,"/").split("/").forEach(function(a){".."===a?1<c.length&&c.pop():"."!==a&&c.push(a)});return 1<c.length?K(c):"/"}function F(a,b){void 0===b&&(b="/");var c="string"===typeof a?parsePath(a):a;a=c.pathname;var d=c.search;d=void 0===d?"":d;c=c.hash;c=void 0===c?"":c;return{pathname:a?a.startsWith("/")?Z(a,"/"):Z(a,b):b,search:d,hash:c}}
function M(a,b){void 0===b&&(b={});return a.replace(/:(\w+)/g,function(a,d){return b[d]||":"+d}).replace(/\*$/,function(a){return b[a]||a})}
function useBlocker(a,b){void 0===b&&(b=!0);var c=React.useContext(n).history;null==c?"production"!==process.env.NODE_ENV?m(!1,"navigation blocking may be used only in the context of a <Router> component"):m(!1):void 0;React.useEffect(function(){if(b){var d=c.block(function(b){var c=k({},b,{retry:function(){d();b.retry()}});a(c)});return d}},[c,b,a])};
function useHref(a){a=G(a);var b=React.useContext(n).history;null==b?"production"!==process.env.NODE_ENV?m(!1,"href resolution may be used only in the context of a <Router> component"):m(!1):void 0;return b.createHref(a)};function useMatch(a){var b=E();a=G(a);return b.pathname===a.pathname};function useParams(){return React.useContext(p).params};export{q as MemoryRouter,t as Navigate,v as Outlet,x as Redirect,y as Route,r as Router,B as Routes,C as createRoutesFromChildren,M as generatePath,L as matchRoutes,F as resolveLocation,useBlocker,useHref,E as useLocation,useMatch,u as useNavigate,w as useOutlet,useParams,G as useResolvedLocation,D as useRoutes}
//# sourceMappingURL=react-router.js.map
