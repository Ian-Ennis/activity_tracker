{"version":3,"file":"react-router-dom.js","sources":["../../packages/react-router-dom/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createBrowserHistory, createHashHistory } from 'history';\nimport {\n  // components\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Redirect,\n  Route,\n  Router,\n  Routes,\n  // hooks\n  useBlocker,\n  useHref,\n  useLocation,\n  useMatch,\n  useNavigate,\n  useOutlet,\n  useParams,\n  useResolvedLocation,\n  useRoutes,\n  // utils\n  createRoutesFromChildren,\n  matchRoutes,\n  resolveLocation,\n  generatePath\n} from 'react-router';\n\n////////////////////////////////////////////////////////////////////////////////\n// RE-EXPORTS\n////////////////////////////////////////////////////////////////////////////////\n\n// Note: Keep in sync with react-router exports!\nexport {\n  // components\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Redirect,\n  Route,\n  Router,\n  Routes,\n  // hooks\n  useBlocker,\n  useHref,\n  useLocation,\n  useMatch,\n  useNavigate,\n  useOutlet,\n  useParams,\n  useResolvedLocation,\n  useRoutes,\n  // utils\n  createRoutesFromChildren,\n  matchRoutes,\n  resolveLocation,\n  generatePath\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// COMPONENTS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A <Router> for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({ children, timeout, window }) {\n  let historyRef = React.useRef(null);\n\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window });\n  }\n\n  return (\n    <Router\n      children={children}\n      history={historyRef.current}\n      timeout={timeout}\n    />\n  );\n}\n\nif (__DEV__) {\n  BrowserRouter.displayName = 'BrowserRouter';\n  BrowserRouter.propTypes = {\n    children: PropTypes.node,\n    timeout: PropTypes.number,\n    window: PropTypes.object\n  };\n}\n\n/**\n * A <Router> for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({ children, timeout, window }) {\n  let historyRef = React.useRef(null);\n\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window });\n  }\n\n  return (\n    <Router\n      children={children}\n      history={historyRef.current}\n      timeout={timeout}\n    />\n  );\n}\n\nif (__DEV__) {\n  HashRouter.displayName = 'HashRouter';\n  HashRouter.propTypes = {\n    children: PropTypes.node,\n    timeout: PropTypes.number,\n    window: PropTypes.object\n  };\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef(function LinkWithRef(\n  {\n    as: Component = 'a',\n    onClick,\n    replace: replaceProp = false,\n    state,\n    target,\n    to,\n    ...rest\n  },\n  ref\n) {\n  let href = useHref(to);\n  let navigate = useNavigate();\n  let location = useLocation();\n  let toLocation = useResolvedLocation(to);\n\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (\n      !event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // Ignore everything but left clicks\n      (!target || target === '_self') && // Let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // Ignore clicks with modifier keys\n    ) {\n      event.preventDefault();\n\n      let isSameLocation =\n        toLocation.pathname === location.pathname &&\n        toLocation.search === location.search &&\n        toLocation.hash === location.hash;\n\n      // If the pathname, search, and hash haven't changed, a\n      // regular <a> will do a REPLACE instead of a PUSH.\n      let replace = !!replaceProp || isSameLocation;\n\n      navigate(to, { replace, state });\n    }\n  }\n\n  return (\n    <Component\n      {...rest}\n      href={href}\n      onClick={handleClick}\n      ref={ref}\n      target={target}\n    />\n  );\n});\n\nif (__DEV__) {\n  Link.displayName = 'Link';\n  Link.propTypes = {\n    as: PropTypes.elementType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    state: PropTypes.object,\n    target: PropTypes.string,\n    to: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.shape({\n        pathname: PropTypes.string,\n        search: PropTypes.string,\n        hash: PropTypes.string\n      })\n    ]).isRequired\n  };\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef(function NavLinkWithRef(\n  {\n    'aria-current': ariaCurrentProp = 'page',\n    activeClassName = 'active',\n    activeStyle = null,\n    className: classNameProp = '',\n    style: styleProp = null,\n    to,\n    ...rest\n  },\n  ref\n) {\n  let match = useMatch(to);\n  let ariaCurrent = match ? ariaCurrentProp : undefined;\n  let className = [classNameProp, match ? activeClassName : null]\n    .filter(Boolean)\n    .join(' ');\n  let style = {\n    ...styleProp,\n    ...(match ? activeStyle : null)\n  };\n\n  return (\n    <Link\n      {...rest}\n      aria-current={ariaCurrent}\n      className={className}\n      ref={ref}\n      style={style}\n      to={to}\n    />\n  );\n});\n\nif (__DEV__) {\n  NavLink.displayName = 'NavLink';\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    'aria-current': PropTypes.oneOf([\n      'page',\n      'step',\n      'location',\n      'date',\n      'time',\n      'true'\n    ]),\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    to: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.shape({\n        pathname: PropTypes.string,\n        search: PropTypes.string,\n        hash: PropTypes.string\n      })\n    ]).isRequired\n  };\n}\n\n/**\n * A declarative interface for showing a window.confirm dialog with the given\n * message when the user tries to navigate away from the current page.\n *\n * This also serves as a reference implementation for anyone who wants to\n * create their own custom prompt component.\n */\nexport function Prompt({ message, when }) {\n  usePrompt(message, when);\n  return null;\n}\n\nif (__DEV__) {\n  Prompt.displayName = 'Prompt';\n  Prompt.propTypes = {\n    message: PropTypes.string,\n    when: PropTypes.bool\n  };\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// HOOKS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Prevents navigation away from the current page using a window.confirm prompt\n * with the given message.\n */\nexport function usePrompt(message, when) {\n  let blocker = React.useCallback(\n    tx => {\n      if (window.confirm(message)) tx.retry();\n    },\n    [message]\n  );\n\n  useBlocker(blocker, when);\n}\n"],"names":["BrowserRouter","children","timeout","window","historyRef","React","createBrowserHistory","createElement","Router","history","PropTypes","HashRouter","createHashHistory","Link","LinkWithRef","ref","Component","onClick","replaceProp","state","target","to","rest","href","useHref","navigate","useNavigate","location","useLocation","toLocation","useResolvedLocation","event","isSameLocation","replace","as","pathname","search","hash","NavLink","NavLinkWithRef","ariaCurrentProp","activeClassName","activeStyle","classNameProp","styleProp","match","useMatch","ariaCurrent","undefined","className","filter","Boolean","join","style","Prompt","usePrompt","message","when","blocker","tx","useBlocker"],"mappings":"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"}